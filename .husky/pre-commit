#!/bin/sh
. "$(dirname "$0")/_/husky.sh"

echo 'â­â­â­â­â­ Running Prettier Check â­â­â­â­â­'

# Check Prettier standards
npm run check-format ||
(
  echo 'â›”â›”â›”â›”â›” Prettier Check Failed â›”â›”â›”â›”â›”
        ğŸ‘‰ğŸ‘‰ğŸ‘‰ Run "npm run format" => "git add ." => try again... ğŸ‘ˆğŸ‘ˆğŸ‘ˆ';
  false;
)

echo 'ğŸ“ğŸ“ğŸ“ğŸ“ğŸ“ Running ESLint Check ğŸ“ğŸ“ğŸ“ğŸ“ğŸ“'

# Check ESLint Standards
npm run check-lint ||
(
  echo 'â›”â›”â›”â›”â›” ESLint Check Failed â›”â›”â›”â›”â›”
        ğŸ‘‰ğŸ‘‰ğŸ‘‰ Make the required changes listed above => try again... ğŸ‘ˆğŸ‘ˆğŸ‘ˆ'
  false; 
)

echo 'ğŸ§¾ğŸ§¾ğŸ§¾ğŸ§¾ğŸ§¾ Running Type Check ğŸ§¾ğŸ§¾ğŸ§¾ğŸ§¾ğŸ§¾'

# Check tsconfig standards
npm run check-types ||
(
  echo 'â›”â›”â›”â›”â›” Type Check Failed â›”â›”â›”â›”â›”
        ğŸ‘‰ğŸ‘‰ğŸ‘‰ Make the changes required above => try again... ğŸ‘ˆğŸ‘ˆğŸ‘ˆ'
  false;
)

# Check if build is valid
echo 'ğŸ› ï¸ğŸ› ï¸ğŸ› ï¸ğŸ› ï¸ğŸ› ï¸ Running Build Check ğŸ› ï¸ğŸ› ï¸ğŸ› ï¸ğŸ› ï¸ğŸ› ï¸'

npm run build ||
(
  echo 'â›”â›”â›”â›”â›” NextJS Build Failed â›”â›”â›”â›”â›”
        ğŸ‘‰ğŸ‘‰ğŸ‘‰ View the errors above to see why => try again... ğŸ‘ˆğŸ‘ˆğŸ‘ˆ'
  false;
)

# If everything passes... Now we can commit
echo 'âœ…âœ…âœ…âœ…âœ… Success!!! âœ…âœ…âœ…âœ…âœ…'